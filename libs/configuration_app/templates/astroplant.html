{% extends 'layout.html' %}

{% block body %}
<div class="bg-light">
    <div class="container pt-5 pb-5">
        <h1>AstroPlant credentials</h1>

        <form action="{{ url_for('save_astroplant') }}" method="post">
            <div class="form-group">
                <label for="mqtt_host">The MQTT host</label>
                <input type="text" class="form-control" id="mqtt_host" name="mqtt_host" value="mqtt.astroplant.sda-projects.nl" required>
            </div>

            <div class="form-group">
                <label for="mqtt_port">The MQTT port</label>
                <input type="text" class="form-control" id="mqtt_port" name="mqtt_port" value="9998" required>
                <small class="form-text text-muted">
                    To connect with the official AstroPlant servers, leave the MQTT host and port on their default values.
                </small>
            </div>

            <div class="form-group">
                <label for="auth_serial">Your AstroPlant kit's serial</label>
                <input type="text" class="form-control" id="auth_serial" name="auth_serial" required>
                <small class="form-text text-muted">
                    The kit's serial is shown on the &quot;access&quot; tab on the Kit's dashboard on (my.astroplant.io). If you have not created a kit on the website yet, create it.
                </small>
            </div>

            <div class="form-group">
                <label for="auth_secret">Your AstroPlant kit's secret</label>
                <input type="text" class="form-control" id="auth_secret" name="auth_secret" required>
                <small class="form-text text-muted">
                    The kit's password is generated by the AstroPlant website. If you lost the password, you can generate a new password on the &quot;access&quot; tab on the website.
                </small>
            </div>

            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="lcd_connected" name="lcd_connected" onclick="var input = document.getElementById('lcd_address'); if(this.checked){ input.disabled = false; input.focus();}else{input.disabled=true;}" />
                <label for="lcd_connected" class="form-check-label">Is the AstroPlant LCD screen connected?</label>
            </div>

            <div class="form-group">
                <label for="lcd_address">LCD I2C address (default value is 0x27):</label>
                <input type="text" class="form-control" id="lcd_address" name="lcd_address" disabled="disabled" />
            </div>

            <input type="submit" class="btn btn-primary" value="Save kit credentials">
        </form>
    </div>
</div>
{% endblock %}
