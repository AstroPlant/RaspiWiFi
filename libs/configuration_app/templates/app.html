{% extends 'layout.html' %}

{% block body %}
  <div id="mainContent">
    <h1>AP WiFi Setup</h1>

    <div class="wifiIcon"></div>
    <div><label for="info">{{ info }}</label></div>
    <form action="{{ url_for('save_credentials') }}" method=post>
      <ul>
        <li><label for="ssid">Select your WiFi network</label></li>

        <li class="wifiNetwork">
          <select id="ssid" name="ssid", class="wifiNetworkInputs">
            {% for ssid in wifi_ap_array %}
              <option value='{{ ssid }}'>{{ ssid }}</option>
            {% endfor %}
          </select>
        </li>

        <li><a href="{{ url_for('manual_ssid_entry') }}" class="manualSSIDEntry">manual SSID entry -></a></li>
        <li><label for="wifi_key">Your Wifi password</label></li>
        <li><input type="password" name="wifi_key", class="wifiNetworkInputs"></li>
	    <li><label for="api_url">Your API url</label></li>
        <li><input type="text" name="api_url" value="https://my.astroplant.io/api/", class="wifiNetworkInputs"></li>
        <li><label for="ws_url">Your Websocket url</label></li>
        <li><input type="text" name="ws_url"  value="wss://my.astroplant.io/" , class="wifiNetworkInputs"></li>
        <li><label for="auth_serial">Your serial key</label></li>
        <li><input type="text" name="auth_serial", class="wifiNetworkInputs"></li>
        <li><label for="auth_secret">Your AstroPlant token</label></li>
        <li><input type="text" name="auth_secret", class="wifiNetworkInputs"></li>
        <li><label for="checkbox">Is the AstroPlant LCD screen connected?</label><input type="checkbox" name="i2c_check" onclick="var input = document.getElementById('lcd_address'); if(this.checked){ input.disabled = false; input.focus();}else{input.disabled=true;}" /></li>
        <li><label for="I2C_address">LCD I2C address (default value is 0x27):</label><input type="text" id="lcd_address" name="lcd_address" disabled="disabled", class="lcdInputs"/></li>

        <input type="submit", class="wifiConnectButton">
      </ul>
    </form>
  </div>
{% endblock %}
